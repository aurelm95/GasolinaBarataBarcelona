<!DOCTYPE html>
<html>
    <head>
        <title>Gasolineras baratas Barcelona</title>
        <!-- <link rel="stylesheet" href="css/style.css" /> -->
    </head>
    <body>
        <div class="gasolineras_form" id="gasolineras_form">
            Latitud:<input id="latitude_input" value=0>
            Longitud:<input id="longitude_input" value=0>
            Consumo:<input id="consumo_input" value="7.5">
            Litros a repostar:<input id="litros_input" value="50">
            <button onClick="compute()">Calcular</button>
        </div>
        
        <div id="after-compute" style="display:none">
            <div class="container">
                <form action="/api/images/upload" method="POST" enctype="multipart/form-data">
                    <input type="file" name="images" multiple>
                    <button>
                        Save
                    </button>
                </form>
            </div>
            <div id="show_images">
            </div>
        </div>
    
        <script src="/static/js/jquery-3.5.1.min.js"></script>

        <script>
        function compute(){
            latitude=$('#latitude_input').val()
            longitude=$('#longitude_input').val()
            consumo=$('#consumo_input').val()
            litros=$('#litros_input').val()
            
            
            console.log("latitude:",latitude,"longitude:",longitude,"consumo:",consumo)

            response=$.ajax({
                type: "GET",
                // xhrFields: { withCredentials: true },
                url: "http://localhost:5000/gasolineras/buscar_gasolinera?latitude="+latitude+"&longitude="+longitude+"&consumo="+consumo+"&litros="+litros,
                dataType: "json",
                contentType: "application/json",
                async: false
            }).responseJSON;

            console.log(response)
        } 
        
        </script>
    </body>